# 里氏替换原则

任何能使用夫类对象的地方。都应该能透明的替换为子类对象

方法重写： 在子类和父类中出现返回类型相同、方法名相同，方法参数相同的方法构成重写

继承的作用
1: 提供代码的重用性
2: 多态的前提

两个类能不能发生继承关系的依据是什么？ 
- 主要看有没有‘is a’关系
- 在两个类有了'is a'关系后， 还要考虑子类对象在替换父类对象之后，业务逻辑是否发生变化。如果变化则不能发生继继承关系

正方形和长方形有‘is a’关系, 那么我们能不能让正方形直接继承长方形的类？ 现在不能了？

因为还要考虑特定的业务场景下, 正方形能替换了长方形以后 业务逻辑是否发生变化



**继承优点：**
● 代码共享，减少创建类的工作量，每个子类都拥有父类的方法和属性；
● 提高代码的重用性；
● 子类可以形似父类，但又异于父类，“龙生龙，凤生凤，老鼠生来会打洞”是说子拥有父的“种”，“世界上没有两片完全相同的叶子”是指明子与父的不同；
● 提高代码的可扩展性，实现父类的方法就可以“为所欲为”了，君不见很多开源框架的扩展接口都是通过继承父类来完成的；
● 提高产品或项目的开放性。
 
 
**继承缺点:**
● 继承是侵入性的。只要继承，就必须拥有父类的所有属性和方法；
● 降低代码的灵活性。子类必须拥有父类的属性和方法，让子类自由的世界中多了些约束；
● 增强了耦合性。当父类的常量、变量和方法被修改时，需要考虑子类的修改，而且在缺乏规范的环境下，这种修改可能带来非常糟糕的结果——大段的代码需要重构。



在类中调用其他类时务必要使用父类或接口，如果不能使用父类或接口，则说明类的设计已经违背了LSP原则。

**如果子类不能完整地实现父类的方法，或者父类的某些方法在子类中已经发生“畸变”，则建议断开父子继承关系，采用依赖、聚集、组合等关系代替继承。**


**里氏替换原则为良好的继承定义了一个规范，一句简单的定义包含了4层含义。**
- 1.子类必须完全实现父类的方法
- 2.子类可以有自己的个性
- 3.覆盖或实现父类的方法时输入参数可以被放大
- 4. 覆写或实现父类的方法时输出结果可以被缩小


**结论**

采用里氏替换原则的目的是增强程序的健壮性，版本升级时也可以保持非常好的兼容性。即使增加子类，原有的父类仍然可以运行。

在实际使用中，采用里氏替换原则应当尽量避免子类的“个性”，一旦子类产生“个性”，这个子类和父类之间的关系将难以调和。

 